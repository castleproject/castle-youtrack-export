<?xml version="1.0" encoding="utf-8"?>
<issues>
  <issue>
    <field name="Priority">
      <value>Critical</value>
    </field>
    <field name="Type">
      <value>Bug</value>
    </field>
    <field name="State">
      <value>Fixed</value>
    </field>
    <field name="Assignee" />
    <field name="Subsystem">
      <value>Core</value>
    </field>
    <field name="Fix versions">
      <value>Future</value>
    </field>
    <field name="Affected versions">
      <value>Future</value>
    </field>
    <field name="Fixed in build" />
    <field name="numberInProject">
      <value>533</value>
    </field>
    <field name="summary">
      <value>UseCurrentRouteParams not honored</value>
    </field>
    <field name="description">
      <value>At the moment if we have 2 very similar registered routings eg:
"/Services/&lt;serviceArea&gt;/AddWizard/[action]"
"/Services/&lt;serviceArea&gt;/ModifyWizard/[action]"

The routing engine takes the first one registered.
This patch fixes that bug by keeping track of the current route name, hence, if the user specifies to use the UseCurrentRouteParams than the url produced is going to be generated by the current routing rule, not the first one that finds.
To have better understanding of what this patch does have a look at the 2 unit tests.</value>
    </field>
    <field name="created">
      <value>1242154707000</value>
    </field>
    <field name="updated">
      <value>1253859546000</value>
    </field>
    <field name="reporterName">
      <value>jsimons</value>
    </field>
    <field name="updaterName">
      <value>jsimons</value>
    </field>
    <field name="resolved">
      <value>1253859540000</value>
    </field>
    <field name="permittedGroup">
      <value>All Users</value>
    </field>
    <comment author="jsimons" text="Upgraded to a bug" created="1245113665000" />
    <comment author="roelofb" text="r5886" created="1253859544000" />
    <comment author="roelofb" text="r5886" created="1253859544000" />
    <comment author="jsimons" text="* '''Summary''' changed from ''UseCurrentRouteParams enhancement'' to ''UseCurrentRouteParams not honored''.&#xD;&#xA;* '''Type''' changed from ''Patch'' to ''Bug''.&#xD;&#xA;* '''Importance''' changed from ''Medium'' to ''Critical''.&#xD;&#xA;* '''Description''' changed from:&#xD;&#xA;{quote}&#xD;&#xA;At the moment if we have 2 very similar registered routings eg:&#xD;&#xA;&quot;/Services/&lt;serviceArea&gt;/AddWizard/[action]&quot;&#xD;&#xA;&quot;/Services/&lt;serviceArea&gt;/ModifyWizard/[action]&quot;&#xD;&#xA;&#xD;&#xA;The routing engine takes the first one registered.&#xD;&#xA;What this patch does is, if the user specifies to use the UseCurrentRouteParams than the url produced is going to be generated by the current routing rule, not the first one that finds.&#xD;&#xA;To have better understanding of what this patch does have a look at the 2 unit tests.&#xD;&#xA;{quote}&#xD;&#xA;to:&#xD;&#xA;{quote}&#xD;&#xA;At the moment if we have 2 very similar registered routings eg:&#xD;&#xA;&quot;/Services/&lt;serviceArea&gt;/AddWizard/[action]&quot;&#xD;&#xA;&quot;/Services/&lt;serviceArea&gt;/ModifyWizard/[action]&quot;&#xD;&#xA;&#xD;&#xA;The routing engine takes the first one registered.&#xD;&#xA;This patch fixes that bug by keeping track of the current route name, hence, if the user specifies to use the UseCurrentRouteParams than the url produced is going to be generated by the current routing rule, not the first one that finds.&#xD;&#xA;To have better understanding of what this patch does have a look at the 2 unit tests.&#xD;&#xA;{quote}&#xD;&#xA;" created="1245113580000" />
    <comment author="jsimons" text="* '''Attachment''' HonorUseCurrentRouting.patch added.&#xD;&#xA;" created="1242154707001" />
    <comment author="roelofb" text="* '''Resolution''' set to ''Applied''.&#xD;&#xA;* '''Version Fixed''' set to ''Future''.&#xD;&#xA;* '''Status''' changed from ''Open'' to ''Resolved''.&#xD;&#xA;" created="1253859540000" />
    <comment author="roelofb" text="* '''Resolution''' set to ''Applied''.&#xD;&#xA;* '''Version Fixed''' set to ''Future''.&#xD;&#xA;* '''Status''' changed from ''Open'' to ''Resolved''.&#xD;&#xA;" created="1253859540000" />
    <comment author="roelofb" text="* '''Status''' changed from ''Resolved'' to ''Closed''.&#xD;&#xA;" created="1253859540000" />
  </issue>
</issues>