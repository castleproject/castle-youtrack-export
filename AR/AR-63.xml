<?xml version="1.0" encoding="utf-8"?>
<issues>
  <issue>
    <field name="Priority">
      <value>Major</value>
    </field>
    <field name="Type">
      <value>Bug</value>
    </field>
    <field name="State">
      <value>Won't fix</value>
    </field>
    <field name="Assignee" />
    <field name="Subsystem">
      <value>Framework</value>
    </field>
    <field name="Fix versions" />
    <field name="Affected versions" />
    <field name="Fixed in build" />
    <field name="numberInProject">
      <value>63</value>
    </field>
    <field name="summary">
      <value>association table used in many-to-many mapping</value>
    </field>
    <field name="description">
      <value>What I am trying to do is this; I have an OrganisationEmployee which is an association table between the many-to-many mapping of Organisation to Employee. But an OrganisationEmployee also has properties of its own, so I have to give it its own mapping.

This all works OK. The problem starts when I have to use OrganisationEmployee in a many-to-many mapping of its own. An appointment can have many OrganisationEmployees as contacts and 1 organisationemployee can have more appointments. When I try to map this I get the following error:

NHibernate.MappingException: Foreign key in table AppointmentContact must have same number of columns as referenced primary key in table OrganisationEmployee
at NHibernate.Mapping.ForeignKey.set_ReferencedTable(Table value)
at NHibernate.Cfg.Configuration.SecondPassCompileForeignKeys(Table table, ISet done) </value>
    </field>
    <field name="created">
      <value>1151676337000</value>
    </field>
    <field name="updated">
      <value>1162410396000</value>
    </field>
    <field name="reporterName">
      <value>peter</value>
    </field>
    <field name="updaterName">
      <value>peter</value>
    </field>
    <field name="resolved">
      <value>1282135961541</value>
    </field>
    <field name="permittedGroup">
      <value>All Users</value>
    </field>
  </issue>
</issues>